<% article_div_id = "article_" + String(article.template_id) + "_div" %>
<div class="tr" id="<%= article_div_id %>">
  <div class="td">
    <% # wieviele artikel hat der nutzer schon mit diesem template erstellt  %>
    <% # anders gefragt: wieviele artikel des nutzers gibt es, deren template die gleiche idee hat, wie die id dieses templates %>
    <% ntemplates = current_user.articles.where("template_id = ?", article.template_id).count %>
    <% article_cb_id = "article_" + String(article.template_id) + "_cb" %>
    <%= f.check_box :to_be_created, value: false, hide_label: true, label: "", id: article_cb_id %>
    <script>
     document.getElementById('<%= article_cb_id %>').onclick = function(){ createCheckBoxClicked('<%= article_cb_id %>', '<%= article_div_id %>'); };
    </script>
    <%= "(#{ntemplates})" if ntemplates > 0 %>
  </div>

  <div class="td">
    <% f.text_field :title, hide_label: true, placeholder: Article.human_attribute_name("title") %>
    <%= article.title %>
  </div>

  <div class="td">
    <div class="article_input">
      <%= f.text_field :details, hide_label: true, placeholder: Article.human_attribute_name("details") %>
    </div>
  </div>
  <div class="td">
    <div class="article_input">
      <%= f.number_field :quality, min: 0, max: 5, size: 8, hide_label: true %>
    </div>
  </div>
  <div class="td">
    <div class="article_input">
      <%= f.number_field :rate_eur, min: 0, step: 0.01, append: "â‚¬", size: 10, hide_label: true %>
    </div>
  </div>
  <div class="td">
    <div class="article_input">
      <%= f.text_field :rate_interval, size: 10, hide_label: true %>
    </div>
  </div>
  <div class="td">
    <div class="article_input">
      <%= f.collection_select :location_id, current_user.locations, :id, :shortaddress, hide_label: true %>
    </div>
  </div>

  <%= f.hidden_field :id %>
  <%= f.hidden_field :template_id %>
</div>
